project('global arg test', 'cxx', 'c')

add_global_arguments('c', '-DMYTHING')
add_global_arguments('cxx', '-DMYCXXTHING')

exe1 = executable('prog', 'prog.c')
exe2 = executable('prog2', 'prog.cc')

add_test('prog1', exe1)
add_test('prog2', exe2)

